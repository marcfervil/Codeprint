<html>
    <head>
        <title>Codeprint</title>
        <link rel="stylesheet" href="style.css">
    </head>

    <body>
        <div id="app" style="margin: 10px">
            
            
        </div>
    </body>
    
</html>


<script type="text/javascript" src="util.js"></script>
<script type="text/javascript" src="stateful.js"></script>
<script type="text/javascript" src="blueprint.js"></script>


<script type="text/javascript">


/*
    get("app").appendChild(new GizmoView([

        new ListView(["item1", "item2", "item3"], (item) => 

            new TextView(item).br().event("click", (self, event) => {
                
                get("yuh").items.push("clicked "+self.text)
                self.text = "clicked!"
               
            })

         ).prop("id", "yuh")
    ]));*/


    
    /*
    get("app").appendChild(new GizmoView({

        state: {
            items: ["item1", "item2", "item3"]
        },

        
        render: (state) => [

            new ListView(state.items, (item) => 

                new TextView(item).br().event("click", (self, event) => {
                    state.items.push(self.text+" clicked!")
                    self.text = "I've been clicked"
                })

            )
        ]
    }));*/


/*    
    get("app").appendChild(new GizmoView({

        state: {
            greeting: "hi"
        },

        render: (state) => [
            new TextView(state.greeting).br().event("click", (self, event) => {
                state.greeting = "I've been clicked"
            })
        ]
    }))*/
    
/*
    
    get("app").appendChild(new GizmoView({

        state: {
            items: ["item1", "item2", "item3"]
        },


        render: (state) => [
            new ListView(state.items, (item, index) => 

                new TextView(item).br().event("click", (self, event) => {
                    state.items[index] = "he was # "+index
                })

            )
        ]
    }).br().br());*/

    
    /*
    get("app").appendChild(new GizmoView({

        state: {
           str: "Stateful !"
            
        },
       
       
        render: (state) => [
            
            
            new TextView(state.str).br().event("click", (self, event) => {
                // / = "ifwej"
                state.str = "hi"
                
                
            })

        
        ]
    }))*/


    /*
    let state = new State({hello: "world"})
   

    
    state.notify.hello = {
        update: (value) => {
            console.log("updated hello to", value)
        }
    }

    state.hello = "wow";

    console.log(state.hello)*/

   
    f = [1, 2]
    
    Object.defineProperty(f, "push", {
    configurable: true,
    enumerable: false,
    writable: false, // Previous values based on Object.getOwnPropertyDescriptor(Array.prototype, "push")
    value: function (...args)
    {
        let result = Array.prototype.push.apply(this, args); // Original push() implementation based on https://github.com/vuejs/vue/blob/f2b476d4f4f685d84b4957e6c805740597945cde/src/core/observer/array.js and https://github.com/vuejs/vue/blob/daed1e73557d57df244ad8d46c9afff7208c9a2d/src/core/util/lang.js

        console.log("ewjfoew");

        return result; // Original push() implementation
    }
    });
  //  f.push(2)
    f[0] = "ioewj"
   // console.log(f)
    console.log(JSON.parse(JSON.stringify(f)))

    let state = new State({nums: [1, 2, 3]})
    
    
    state.notify.nums = {
        append: (value) => {
            console.log("appended", value)
        },
        update: (value, index) => {
            console.log(`updated ${index} to ${value}`)
        },
    }

    state.nums.push("hey!")

    console.log(state.nums)

    
</script>
